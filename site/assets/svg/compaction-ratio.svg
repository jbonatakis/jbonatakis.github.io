<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="980" height="580" viewBox="0 0 980 580">
  <rect width="980" height="580" fill="white"/>

  <!-- Title -->
  <text x="40" y="44" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="20" fill="black">
    Context compaction: permanently occupied vs free space (r = 0.2, k = 1..10)
  </text>

  <!-- Legend -->
  <rect x="40" y="62" width="18" height="12" fill="#e6e6e6"/>
  <text x="64" y="73" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="12" fill="black">Free</text>

  <!-- Chart frame -->
  <text x="40" y="104" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="12" fill="black">Compactions</text>
  <text x="220" y="104" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="12" fill="black">Occupied</text>

  <!-- Layout constants (baked in) -->
  <!-- left labels start: x=40 -->
  <!-- bars start: x=160 -->
  <!-- bar width: 760 -->
  <!-- bar height: 30 -->
  <!-- row gap: 14 -->

  <!-- Row 1: 20.0% -->
  <text x="40" y="148" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">1</text>
  <rect x="160" y="124" width="152" height="30" fill="#1f77b4"/>
  <rect x="312" y="124" width="608" height="30" fill="#e6e6e6"/>
  <text x="236" y="145" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">20.0%</text>
  <text x="616" y="145" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">80.0%</text>

  <!-- Row 2: 36.0% -->
  <text x="40" y="192" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">2</text>
  <rect x="160" y="168" width="274" height="30" fill="#ff7f0e"/>
  <rect x="434" y="168" width="486" height="30" fill="#e6e6e6"/>
  <text x="297" y="189" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">36.0%</text>
  <text x="677" y="189" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">64.0%</text>

  <!-- Row 3: 48.8% -->
  <text x="40" y="236" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">3</text>
  <rect x="160" y="212" width="371" height="30" fill="#2ca02c"/>
  <rect x="531" y="212" width="389" height="30" fill="#e6e6e6"/>
  <text x="345.5" y="233" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">48.8%</text>
  <text x="725.5" y="233" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">51.2%</text>

  <!-- Row 4: 59.0% -->
  <text x="40" y="280" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">4</text>
  <rect x="160" y="256" width="448" height="30" fill="#d62728"/>
  <rect x="608" y="256" width="312" height="30" fill="#e6e6e6"/>
  <text x="384" y="277" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">59.0%</text>
  <text x="764" y="277" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">41.0%</text>

  <!-- Row 5: 67.2% -->
  <text x="40" y="324" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">5</text>
  <rect x="160" y="300" width="511" height="30" fill="#9467bd"/>
  <rect x="671" y="300" width="249" height="30" fill="#e6e6e6"/>
  <text x="415.5" y="321" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">67.2%</text>
  <text x="795.5" y="321" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">32.8%</text>

  <!-- Row 6: 73.8% -->
  <text x="40" y="368" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">6</text>
  <rect x="160" y="344" width="561" height="30" fill="#8c564b"/>
  <rect x="721" y="344" width="199" height="30" fill="#e6e6e6"/>
  <text x="440.5" y="365" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">73.8%</text>
  <text x="820.5" y="365" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">26.2%</text>

  <!-- Row 7: 79.0% -->
  <text x="40" y="412" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">7</text>
  <rect x="160" y="388" width="600" height="30" fill="#e377c2"/>
  <rect x="760" y="388" width="160" height="30" fill="#e6e6e6"/>
  <text x="460" y="409" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">79.0%</text>
  <text x="840" y="409" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">21.0%</text>

  <!-- Row 8: 83.2% -->
  <text x="40" y="456" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">8</text>
  <rect x="160" y="432" width="633" height="30" fill="#7f7f7f"/>
  <rect x="793" y="432" width="127" height="30" fill="#e6e6e6"/>
  <text x="476.5" y="453" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">83.2%</text>
  <text x="856.5" y="453" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">16.8%</text>

  <!-- Row 9: 86.6% -->
  <text x="40" y="500" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">9</text>
  <rect x="160" y="476" width="658" height="30" fill="#bcbd22"/>
  <rect x="818" y="476" width="102" height="30" fill="#e6e6e6"/>
  <text x="489" y="497" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">86.6%</text>
  <text x="869" y="497" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">13.4%</text>

  <!-- Row 10: 89.3% -->
  <text x="34" y="544" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial" font-size="14" fill="black">10</text>
  <rect x="160" y="520" width="679" height="30" fill="#17becf"/>
  <rect x="839" y="520" width="81" height="30" fill="#e6e6e6"/>
  <text x="499.5" y="541" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="white">89.3%</text>
  <text x="879.5" y="541" text-anchor="middle"
        font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="13" fill="#333">10.7%</text>

  <!-- Footer note -->
  <text x="40" y="572" font-family="system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial"
        font-size="11" fill="#333">
    Permanently occupied fraction: Cₖ = 1 − (1 − r)ᵏ with r = 0.2
  </text>
</svg>
